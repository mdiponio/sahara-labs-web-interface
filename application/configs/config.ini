[production]

; The institution namespace
institution = UTS

; Scheduling Server hostname and port name
SchedulingServer.hostname = localhost
SchedulingServer.port = 8080

; Logger level (FATAL | ERROR | WARN | INFO | DEBUG)
logger.level = WARN
logger.filename = /var/log/webinterface.log

; Display Information
; Header Infomation
header.logoGraphic = /uts/images/uts.png
header.logoLink = http://www.uts.edu.au/ 
header.nameImage = /uts/utsbanner.png
header.useLabshare = true
page.title = 'UTS Remote Labs'

; Queue callback interval (seconds, default is 60)
queue.interval = 30
; Session callback interval (seconds, default is 60)
session.interval = 30

; Camera format strings
camera.jpeg = http://<HOST>:<PORT>/stream<NUM>.jpg
camera.mms = mms://<HOST>:<PORT>/stream<NUM>_v_medium.asf
camera.mmsh = mmsh://<HOST>:<PORT>/stream<NUM>_v_medium.asf
camera.httpasf = http://<HOST>:<PORT>/stream<NUM>.asf

; Camera format descriptions
cameradesc.httpasf = WMV Format

; Remote Desktop domain
remotedesktop.domain = REMOTELABS

; Feedback email address(s). To set more than one address
; append '[]' to the property name.
feedback.address[] = michael.diponio@uts.edu.au
feedback.address[] = helpdesk@labshare.edu.au
feedback.address[] = ellie.burke@uts.edu.au

; Host name of SMTP server to send email to.
email.smtp = postoffice.eng.uts.edu.au
; Information to be shown on the from field of emails.
email.from.address = donotreply@labshare.edu.au
email.from.name = UTS remotelabs 

; Whether the WSDL file obtained from the Scheduling Server should be cached.
; The default is to cache the wSDL.
SOAP.cacheWSDL = true
; Whether to use the WSDL address when requesting to service, or use the
; base address the WSDL was obtained from. The default value is to not
; use the WSDL provided location.
SOAP.useWSDLLocation = false
; SOAP Request timeout. After this time is elapsed an error is thrown.
; The default is to not set a timeout.
SOAP.requestTimeout = 20

; Primitive default content-type
primitive.file.mime = text/csv

; File upload information
upload.dir = /var/cache/sahara
upload.size = 2MB
upload.extension = "bit,gz,zip"

;;; NOTE: The following parameters relate to using the Sahara_Auth pluggable
;;; authentication system.
auth.useSahara = true
auth.useSSO = true
auth.useLocalAuth = true

auth.ssoIcon = "/auth/aaf_white.png"
auth.ssoLabel = "AAF"
auth.ssoHover = "Australian Access Federation login allows you to login with your universities account 
		 details provided they are a member. This is probably the correct option if you a not a
		 UTS FEIT member."

auth.localIcon = "/auth/uts.png"
auth.localLabel = "FEIT or Non-AAF"
auth.localHover = "Faculty of Engineering & IT, University of Technology Sydney login. This is probably
		   the correct option if a you are a student or staff member of FEIT or you do not have
                   an AAF account."

; SimpleSAMLphp installation location
simpleSaml.location = /var/simplesamlphp

; SimpleSAMLphp authentication source
simpleSaml.authSource = default-sp

; Whether to force shared token attribute for user identification
simpleSaml.shib.forceSharedToken = true;

; Whether to force targetted ID attribute for user identification
;simpleSaml.shib.forceTargetedID = true;

; Whether to force HTTPS URLs for generated addresses. This is needed if the 
; web server is failing to detect HTTPS correctly which may occur if the 
; web server is behind a reverse proxy that handles HTTPS.
simpleSaml.forceHttps = true

; Database configuration
database.adapter = Pdo_Mysql
database.params.host = 127.0.0.1
database.params.dbname = sahara
database.params.username = saharawi
database.params.password = 3AKeaBK_dtffj1F 

; LDAP connection parameters
ldap.params.host = ldap-remotelabs
ldap.params.username = "cn=Directory Manager"
ldap.params.password = jlfG56ef
ldap.params.baseDn = "o=UTS"

; Authentication configuration
auth.type[] = Database
auth.type[] = Ldap
auth.session[] = SaharaAccount{Ldap,SimpleSAML}
auth.session[] = UserDetails{Ldap,SimpleSAML}
auth.session[] = LdapPermission{Ldap}
auth.session[] = LdapAccount{Database,SimpleSAML}
auth.session[] = SambaPasswordRestore{Database,Ldap}
auth.session[] = HomeDirectory{Database,Ldap,SimpleSAML}
auth.ssoType = SimpleSAML

; LDAP auth required attributes and values
auth.ldap.objectclass = utsperson

; LDAP permissions
session.ldappermission.rule[] = "utsaccounttype=Staff{PLC,Loaded_Beam,Coupled_Tanks,FPGA,Shake_Table,iRobot,OMAP,Hydro,Inclined_Plane}"
session.ldappermission.rule[] = "utsaccounttype=External{PLC,Loaded_Beam,Coupled_Tanks,FPGA,Shake_Table,iRobot,Hydro,Inclined_Plane}"
session.ldappermission.rule[] = "utsaccounttype=External_Special{PLC,Loaded_Beam,Coupled_Tanks,FPGA,Shake_Table,iRobot}"

; Specific rules for Subjects
session.ldappermission.rule[] = "utsaccounttype=Student&utssubject=48660{Dynamics_and_Control}"
session.ldappermission.rule[] = "utsaccounttype=Student&utssubject=48623{Mechatronics_2}"
session.ldappermission.rule[] = "utsaccounttype=Student&utssubject=49274{Advanced_Robotics}"
session.ldappermission.rule[] = "utsaccounttype=Student&utssubject=48451{Advanced_Digital_Systems}"
session.ldappermission.rule[] = "utsaccounttype=Student&utssubject=49325{Computer-Aided_Mechanical_Design}"
session.ldappermission.rule[] = "utsaccounttype=Student&utssubject=48663{Advanced_Manufacturing}"
session.ldappermission.rule[] = "utsaccounttype=Student&utssubject=48450{RTOS}"
session.ldappermission.rule[] = "utsaccounttype=Student&utssubject=49330{Sensors_&_Signal_Processing}"

; Specific rules for Students
session.ldappermission.rule[] = "uid=96097910{OMAP}"
session.ldappermission.rule[] = "uid=10316774{PLC,Loaded_Beam,Coupled_Tanks,FPGA,Shake_Table,iRobot,Hydro,Inclined_Plane}" ; Vahik Avakian 	
session.ldappermission.rule[] = "uid=11200387{PLC,Loaded_Beam,Coupled_Tanks,FPGA,Shake_Table,iRobot,Hydro,Inclined_Plane}" ; Nagham Orou 	
session.ldappermission.rule[] = "uid=11157993{PLC,Loaded_Beam,Coupled_Tanks,FPGA,Shake_Table,iRobot,Hydro,Inclined_Plane}" ; Tania Machet 
session.ldappermission.rule[] = "uid=10983500{Coupled_Tanks,Shake_Table}" ; Ruiyi Tang
session.ldappermission.rule[] = "uid=10437061{Coupled_Tanks,Shake_Table}" ; Daniel Fernandes

; LDAP account setup information
session.ldapaccount.defaultou = Local
session.ldapaccount.gid = 5000;
session.ldapaccount.loginshell = /bin/bash
session.ldapaccount.homebase = /home/
session.ldapaccount.sidprefix = S-1-5-21-3901219499-3010386033-2472352243

; Home directory creation information
session.homedirectory.script = /var/www/Sahara/institution/UTS/bin/mkhome.sh

home.exclusions = WINDOWS,private,desktop.ini,RSLogix 500 English.lnk,RSView Studio.lnk,Application Manager.lnk
home.sessionrefresh = 30
home.extradirs = .profile/My Documents,.profile/Desktop

userdetails.firstname = givenname,first_name
userdetails.lastname = sn,last_name
userdetails.email = utsmail,email

; Whether to enable permission key system.
permkey.enable = true 

error.address[] = michael.diponio@uts.edu.au
error.disableMessages = false

[development : production]

logger.level = DEBUG 

